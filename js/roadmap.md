# Дорожная карта реализации озвучки стрелочек

## Обновленный план реализации:

### 1. Создание аудиоконтекста
- [x] Инициализация Web Audio API контекста в компоненте Metronome
- [x] Создание отдельного контекста для звуков стрелочек (или использование существующего)

### 2. Генерация гитарных звуков
- [x] Создание функции для генерации звука ударов по струнам с помощью осцилляторов
- [x] Настройка параметров:
  - [x] Форма волны (например, "sine", "square", "sawtooth")
  - [x] Частота (разные ноты для разнообразия)
  - [x] Огибающая звука (ADSR envelope) для естественного звучания
  - [x] Фильтры для создания тембра гитары

### 3. Имитация различных струн
- [x] Создание разных звуков для разных стрелочек или случайное изменение параметров
- [x] Настройка частот в диапазоне гитарных струн (82Hz - 1.1kHz)
- [ ] Добавление легкого ревербератора или задержки для реалистичности

### 4. Управление параметрами звука
- [x] Длительность звука (attack и release)
- [x] Громкость (gain node)
- [x] Возможность настройки тембра

### 5. Интеграция с логикой воспроизведения
- [x] Модификация метода `scheduler()` в Metronome.js
- [x] Проверка состояния `beat.play` перед воспроизведением
- [x] Воспроизведение звука только для активных стрелочек
- [x] Синхронизация со визуальной подсветкой

## Техническая реализация:

**В Metronome.js** добавить:
- [x] `guitarAudioCtx` - аудиоконтекст для звуков
- [x] `createGuitarSound(frequency, duration)` - функция генерации звука
- [x] `playGuitarSound(arrowIndex)` - функция воспроизведения звука для конкретной стрелочки
- [x] Модификация `scheduler()` для вызова звуков

**Параметры звука:**
- [x] Частота: 150-800 Hz (диапазон гитарных струн)
- [x] Длительность: 50-150 мс
- [x] Форма волны: комбинация sine/sawtooth
- [x] Огибающая: быстрый attack, средний decay, короткий release

Этот подход позволит создать реалистичные звуки ударов по струнам программно, без необходимости загрузки внешних файлов.
